(this["webpackJsonpwtw-v2"]=this["webpackJsonpwtw-v2"]||[]).push([[6],{66:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),l=t(44),r=t.n(l),o=t(46),c=t(4),s=t(5),m=t(15),u=function(e){var a=e.title,t=e.titleSpan;return i.a.createElement("h2",{className:"l-section__header"},a,":"," ",i.a.createElement("span",{className:"l-section__header--bold"},t))},p={pl:{spinner:{message:"Czekam na lokalizacj\u0119..."},header:{title:"lokalizacja"},input:{label:"wpisz lokalizacj\u0119: ",buttonLabel:"Wyszukaj lokalizacj\u0119",buttonText:"szukaj"},warning:{location:"Zezw\xf3l na dost\u0119p do us\u0142ugi lokalizacji lub wpisz lokalizacj\u0119 r\u0119cznie.",geolocation:"Geolokacja nie jest obs\u0142ugiwana przez Twoj\u0105 przegl\u0105dark\u0119. Wpisz lokalizacj\u0119 r\u0119cznie."}},en:{spinner:{message:"Waiting for your location..."},header:{title:"location"},input:{label:"enter location: ",buttonLabel:"Search for Location",buttonText:"search"},warning:{location:"Please allow access to your location or provide desired location manually.",geolocation:"Geolocation is not supported by your browser. Please provide desired location manually."}}},w=function(e){var a=e.locationSearch,t=e.language,l=Object(n.useRef)(null),r=p[t].input,o=r.label,c=r.buttonLabel,s=r.buttonText;return i.a.createElement("form",{className:"o-form",onSubmit:function(e){e.preventDefault();var t=l.current.value;a(t)}},i.a.createElement("label",{htmlFor:"locationInput"},o),i.a.createElement("input",{className:"o-input",type:"text",id:"locationInput",ref:l}),i.a.createElement("button",{className:"o-button",type:"submit","aria-label":c},s))},d=function(e){var a=e.warning;return i.a.createElement("p",null,a)},h=t(14),g=t(35),b=t.n(g),f=function(e,a){return b.a.post("https://wtw-api.herokuapp.com/location",{lat:e,long:a}).then((function(e){return e.data}))},E=function(){var e=Object(n.useContext)(s.a).language,a=Object(n.useContext)(m.a),t=a.location,l=a.dispatch,g=Object(n.useState)(""),b=Object(c.a)(g,2),E=b[0],_=b[1],j=navigator&&navigator.geolocation;return Object(n.useEffect)((function(){j&&!t&&navigator.geolocation.getCurrentPosition(function(){var e=Object(o.a)(r.a.mark((function e(a){var t,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.coords.latitude.toString(),n=a.coords.longitude.toString(),e.next=4,f(t,n);case 4:i=e.sent,l&&l({type:"SET_LOCATION",payload:i});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),(function(){return _(p[e].warning.location)}))})),Object(n.useEffect)((function(){t||j||_(p[e].warning.geolocation)}),[t,j,e]),i.a.createElement(i.a.Fragment,null,t?i.a.createElement(u,{title:p[e].header.title,titleSpan:t}):i.a.createElement(h.a,{message:p[e].spinner.message}),E&&i.a.createElement(d,{warning:E}),i.a.createElement(w,{locationSearch:function(e){l&&l({type:"SET_LOCATION",payload:e})},language:e}))},_={pl:{spinner:{message:{noLocation:"Czekam na lokalizacj\u0119...",noWeather:"Sprawdzam pogod\u0119 w "}},header:{title:"aktualna pogoda w"},warning:"Informacje niedost\u0119pne",weather:{rain:"deszcz",snow:"\u015bnieg",feelsLike:"odczuwalne",pressure:"ci\u015bnienie",humidity:"wilgotno\u015b\u0107",visibility:"widoczno\u015b\u0107",wind:"wiatr",clouds:"zachmurzenie"},button:{label:"Szczeg\xf3\u0142owe informacje",moreDetails:"wi\u0119cej informacji",lessDetails:"mniej informacji"}},en:{spinner:{message:{noLocation:"Waiting for location...",noWeather:"Checking weather in  "}},header:{title:"current weather in"},warning:"Weather not available",weather:{rain:"rain",snow:"snow",feelsLike:"feels like",pressure:"pressure",humidity:"humidity",visibility:"visibility",wind:"wind",clouds:"clouds"},button:{label:"Detailed Informations",moreDetails:"see more details",lessDetails:"hide details"}}},j=function(e){return e>=350&&e<10?"N":e>=10&&e<80?"NE":e>=80&&e<100?"E":e>=100&&e<170?"SE":e>=180&&e<190?"S":e>=190&&e<260?"SW":e>=260&&e<280?"W":"NW"},v=function(e){var a=e.weather,t=e.language,l=Object(n.useState)(!1),r=Object(c.a)(l,2),o=r[0],s=r[1],m=_[t].weather,u=m.feelsLike,p=m.rain,w=m.snow,d=m.pressure,h=m.humidity,g=m.visibility,b=m.wind,f=m.clouds,E=_[t].button,v=E.label,z=E.moreDetails,N=E.lessDetails;return i.a.createElement("div",{className:"c-weather"},i.a.createElement("div",{className:"c-weather__icon"},i.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png"),alt:""})),i.a.createElement("div",{className:"c-weather__details"},i.a.createElement("p",{className:"c-weather__description"},a.weather[0].description.toUpperCase()),i.a.createElement("p",{className:"c-weather__temperature"},a.main.temp.toFixed(1),"\xb0C"),o&&i.a.createElement("ul",{className:"c-weather__full"},i.a.createElement("li",{className:"c-weather__item"},u,": ",a.main.feels_like.toFixed(1),"\xb0C"),i.a.createElement("li",{className:"c-weather__item"},a.main.temp_min&&i.a.createElement("span",null,"min: ",a.main.temp_min.toFixed(1),"\xb0C"),a.main.temp_max&&i.a.createElement("span",null," max: ",a.main.temp_max.toFixed(1),"\xb0C")),a.rain&&i.a.createElement("li",{className:"c-weather__item"},p,": ",a.rain["1h"],"mm"),a.snow&&i.a.createElement("li",{className:"c-weather__item"},w,": ",a.snow["1h"],"mm"),a.main.pressure&&i.a.createElement("li",{className:"c-weather__item"},d,": ",a.main.pressure,"hPa"),a.main.humidity&&i.a.createElement("li",{className:"c-weather__item"},h,": ",a.main.humidity,"%"),a.visibility&&i.a.createElement("li",{className:"c-weather__item"},g,": ",a.visibility,"m"),a.wind&&a.wind.deg&&i.a.createElement("li",{className:"c-weather__item"},b,": ",a.wind.speed,"m/s"," ",j(a.wind.deg)),a.clouds&&i.a.createElement("li",{className:"c-weather__item"},f,": ",a.clouds.all,"%")),i.a.createElement("button",{className:"o-button",role:"switch","aria-checked":!o,"aria-label":v,onClick:function(){s(!o)}},o?N:z)))},z=function(){var e=Object(n.useState)(),a=Object(c.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)(""),o=Object(c.a)(r,2),p=o[0],w=o[1],g=Object(n.useContext)(s.a).language,f=Object(n.useContext)(m.a).location;return Object(n.useEffect)((function(){f&&b.a.post("https://wtw-api.herokuapp.com/weather/current",{location:f,language:g}).then((function(e){return e.data})).then((function(e){l(e)})).catch((function(e){console.log(e),w(_[g].warning)}))}),[f,g]),i.a.createElement(i.a.Fragment,null,i.a.createElement(u,{title:_[g].header.title,titleSpan:f}),p?i.a.createElement(d,{warning:p}):i.a.createElement(i.a.Fragment,null,!f&&i.a.createElement(h.a,{message:_[g].spinner.message.noLocation}),f&&!t&&i.a.createElement(h.a,{message:"".concat(_[g].spinner.message.noWeather," ").concat(f)}),f&&t&&i.a.createElement(v,{weather:t,language:g})," "))};a.default=function(){return i.a.createElement("div",{className:"l-page"},i.a.createElement("section",{className:"l-section"},i.a.createElement(E,null)),i.a.createElement("section",{className:"l-section"},i.a.createElement(z,null)))}}}]);
//# sourceMappingURL=6.5408af13.chunk.js.map