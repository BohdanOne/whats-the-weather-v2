(this["webpackJsonpwtw-v2"]=this["webpackJsonpwtw-v2"]||[]).push([[6],{35:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){var t=e.title;return i.a.createElement("header",null,i.a.createElement("h1",null,t))}},67:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(17),r=a(35),o=a(45),s=a.n(o),c=a(47),u=a(5),m=a(9),p=a(14),d=[{title:"location",spinnerMessage:"Waiting for your location..."},{title:"lokalizacja",spinnerMessage:"Czekam na lokalizacj\u0119..."}],g=function(e){var t=e.location,a="en"===Object(n.useContext)(m.a).language?d[0]:d[1],l=a.title,r=a.spinnerMessage;return i.a.createElement("div",{className:"LocationDisplay"},t?i.a.createElement("h2",null,l,": ",i.a.createElement("span",null,t)):i.a.createElement(p.a,{message:r}))},h=[{label:"enter location: ",buttonText:"search"},{label:"wpisz lokalizacj\u0119 ",buttonText:"szukaj"}],E=function(e){var t=e.onLocationSearch,a=Object(n.useRef)(null),l="en"===Object(n.useContext)(m.a).language?h[0]:h[1],r=l.label,o=l.buttonText;return i.a.createElement("form",{className:"InputForm",onSubmit:function(e){e.preventDefault();var n=a.current.value;t(n)}},i.a.createElement("label",{className:"InputForm_label",htmlFor:"locationInput"},r),i.a.createElement("input",{className:"InputForm_input",type:"text",id:"locationInput",ref:a}),i.a.createElement("button",{className:"InputForm_button",type:"submit","aria-label":"Search for Location"},o))},w=function(e){var t=e.warning;return i.a.createElement("p",{className:"Location_warning"},t)},f=a(36),b=a.n(f),j=function(e,t){return b.a.post("https://wtw-api.herokuapp.com/location",{lat:e,long:t}).then((function(e){return e.data}))},v=function(e){var t=e.location,a=e.dispatch,l=Object(n.useState)(""),r=Object(u.a)(l,2),o=r[0],p=r[1],d=navigator&&navigator.geolocation,h=Object(n.useContext)(m.a).language;return Object(n.useEffect)((function(){function e(){return(e=Object(c.a)(s.a.mark((function e(t){var n,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.coords.latitude.toString(),i=t.coords.longitude.toString(),e.next=4,j(n,i);case 4:l=e.sent,a&&a({type:"SET_LOCATION",payload:l});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}d&&!t&&navigator.geolocation.getCurrentPosition((function(t){return e.apply(this,arguments)}),(function(e){e&&p("en"===h?"Please allow access to your location or provide desired location manually.":"Zezw\xf3l na dost\u0119p do us\u0142ugi lokalizacji lub wpisz lokalizacj\u0119 r\u0119cznie.")}))})),Object(n.useEffect)((function(){t||d||p("en"===h?"Geolocation is not supported by your browser. Please provide desired location manually.":"Geolokacja nie jest obs\u0142ugiwana przez Twoj\u0105 przegl\u0105dark\u0119. Wpisz lokalizacj\u0119 r\u0119cznie.")}),[t,d,h]),i.a.createElement("section",{className:"Location"},i.a.createElement(g,{location:t}),o&&i.a.createElement(w,{warning:o}),i.a.createElement(E,{onLocationSearch:function(e){a&&a({type:"SET_LOCATION",payload:e})}}))},y=function(e){var t=e.message;return i.a.createElement("h2",null,t)},k=[{rain:"rain",snow:"snow",moreDetails:"see more details",lessDetails:"hide details",feelsLike:"feels like",pressure:"pressure",humidity:"humidity",visibility:"visibility",wind:"wind",clouds:"clouds"},{rain:"deszcz",snow:"\u015bnieg",moreDetails:"wi\u0119cej informacji",lessDetails:"mniej informacji",feelsLike:"odczuwalne",pressure:"ci\u015bnienie",humidity:"wilgotno\u015b\u0107",visibility:"widoczno\u015b\u0107",wind:"wiatr",clouds:"zachmurzenie"}],z=function(e){return e>=350&&e<10?"N":e>=10&&e<80?"NE":e>=80&&e<100?"E":e>=100&&e<170?"SE":e>=180&&e<190?"S":e>=190&&e<260?"SW":e>=260&&e<280?"W":"NW"},C=function(e){var t=e.title,a=e.weather,l=e.language,r=Object(n.useState)(!1),o=Object(u.a)(r,2),s=o[0],c=o[1],m="en"===l?k[0]:k[1],p=m.rain,d=m.snow,g=m.moreDetails,h=m.lessDetails,E=m.feelsLike,w=m.pressure,f=m.humidity,b=m.visibility,j=m.wind,v=m.clouds;return i.a.createElement("section",{className:"CurrentWeatherDetails"},i.a.createElement("h2",null,t,i.a.createElement("span",null,a.name.toUpperCase())),i.a.createElement("div",{className:"CurrentWeatherDetails_basic"},i.a.createElement("div",{className:"CurrentWeatherDetails_icon"},i.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png"),alt:""})),i.a.createElement("div",{className:"CurrentWeatherDetails_details"},i.a.createElement("p",{className:"CurrentWeatherDetails_desc"},a.weather[0].description.toUpperCase()),i.a.createElement("p",{className:"CurrentWeatherDetails_temp"},a.main.temp.toFixed(1),"\xb0C"),i.a.createElement("button",{role:"switch","aria-checked":!s,"aria-label":"Toggle Details",onClick:function(){c(!s)}},s?h:g))),s&&i.a.createElement("ul",{className:"CurrentWeatherDetails_extended"},i.a.createElement("li",null,E,": ",a.main.feels_like.toFixed(1),"\xb0C"),i.a.createElement("li",null,a.main.temp_min&&i.a.createElement("span",null,"min: ",a.main.temp_min.toFixed(1),"\xb0C"),a.main.temp_max&&i.a.createElement("span",null," max: ",a.main.temp_max.toFixed(1),"\xb0C")),a.rain&&i.a.createElement("li",null,p,": ",a.rain["1h"],"mm"),a.snow&&i.a.createElement("li",null,d,": ",a.snow["1h"],"mm"),a.main.pressure&&i.a.createElement("li",null,w,": ",a.main.pressure,"hPa"),a.main.humidity&&i.a.createElement("li",null,f,": ",a.main.humidity,"%"),a.visibility&&i.a.createElement("li",null,b,": ",a.visibility,"m"),a.wind&&a.wind.deg&&i.a.createElement("li",null,j,": ",a.wind.speed,"m/s ",z(a.wind.deg)),a.clouds&&i.a.createElement("li",null,v,": ",a.clouds.all,"%")))},N=[{title:"current weather in: ",errorMessage:"Weather not available",spinnerMessageNoLocation:"Waiting for location...",spinnerMessageNoWeather:"Checking weather in "},{title:"aktualna pogoda w: ",errorMessage:"Informacje niedost\u0119pne",spinnerMessageNoLocation:"Czekam na lokalizacj\u0119...",spinnerMessageNoWeather:"Sprawdzam pogod\u0119 w "}],O=function(e){var t=e.location,a=Object(n.useState)(),l=Object(u.a)(a,2),r=l[0],o=l[1],s=Object(n.useState)(!1),c=Object(u.a)(s,2),d=c[0],g=c[1],h=Object(n.useContext)(m.a).language,E="en"===h?N[0]:N[1],w=E.title,f=E.errorMessage,j=E.spinnerMessageNoLocation,v=E.spinnerMessageNoWeather;return Object(n.useEffect)((function(){t&&b.a.post("https://wtw-api.herokuapp.com/weather/current",{location:t,language:h}).then((function(e){return e.data})).then((function(e){g(!1),o(e)})).catch((function(e){g(!0)}))}),[t,h,d]),d?i.a.createElement(y,{message:f}):t?t&&!r?i.a.createElement(p.a,{message:"".concat(v).concat(t,"...")}):t&&r?i.a.createElement(C,{title:w,weather:r,language:h}):i.a.createElement(y,{message:f}):i.a.createElement(p.a,{message:j})};t.default=function(){var e=Object(n.useContext)(l.a),t=e.location,a=e.dispatch;return i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,{title:"What's the Weather"}),i.a.createElement(v,{location:t,dispatch:a}),i.a.createElement(O,{location:t}))}}}]);
//# sourceMappingURL=6.0f0bd575.chunk.js.map